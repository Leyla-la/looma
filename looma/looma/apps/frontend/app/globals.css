@import "tailwindcss/preflight";
@tailwind utilities;

/* Tailwind custom color tokens are provided via tailwind.config.js.
   We keep design variables here and map utilities in config for stability. */

/* Enhanced Ghibli Palette with softer, more diverse tones */
:root {
  /* Core Colors */
  --ghibli-sky: #B0C4DE;
  --ghibli-blue: #87CEEB;
  --ghibli-cream: #F5F5DC;
  --ghibli-peach: #FFE5B4;
  --ghibli-pink: #FFB6C1;
  --ghibli-lavender: #E6E6FA;

  /* Nature Tones */
  --ghibli-grass: #98FB98;
  --ghibli-forest: #556B2F;
  --ghibli-earth: #D2B48C;

  /* Neutrals */
  --ghibli-white: #FAFAFA;
  --ghibli-gray: #E0E0E0;
  --ghibli-dark: #36454F;
  --ghibli-charcoal: #2C3E50;

  /* Functional */
  --card-bg: rgba(255, 255, 255, 0.95);
  --border: rgba(176, 196, 222, 0.5); /* light blue border */

  /* Glows and Accents */
  --glow-firefly: rgba(255, 223, 0, 0.7);
  --glow-sprite: rgba(173, 216, 230, 0.6);
  --accent-gold: #FFD700;
  --radius: 1.5rem; /* softer radii */

  /* Tailwind Overrides for Theme */
  --background: var(--ghibli-cream);
  --foreground: var(--ghibli-charcoal);
  --card: var(--card-bg);
  --card-foreground: var(--ghibli-dark);
  --primary: var(--ghibli-mint);
  --primary-foreground: var(--ghibli-white);
  --secondary: var(--ghibli-lavender);
  --secondary-foreground: var(--ghibli-charcoal);
  --muted: var(--ghibli-gray);
  --muted-foreground: var(--ghibli-dark);
  --accent: var(--accent-gold);
  --accent-foreground: var(--ghibli-charcoal);
  --destructive: #FF4500;
  --input: var(--ghibli-gray);
  --ring: var(--ghibli-sky);
}

@media (prefers-color-scheme: dark) {
  :root {
    --card-bg: rgba(45, 52, 54, 0.95);
    --border: rgba(74, 88, 89, 0.6);
    --background: #1E1E1E;
    --foreground: #FAFAFA;
  }
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  background: var(--background);
  color: var(--foreground);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  scroll-behavior: smooth;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
  transition: color 0.3s ease, opacity 0.3s ease;
}

a:hover {
  opacity: 0.85;
  color: var(--accent);
}

/* Enhanced Animations with easing */
@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-25px) rotate(3deg); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(30px) scale(0.95); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes shimmer {
  0% { background-position: -1200px 0; }
  100% { background-position: 1200px 0; }
}

@keyframes drift {
  0% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(15px, -15px) rotate(4deg); }
  50% { transform: translate(0, -25px) rotate(0deg); }
  75% { transform: translate(-15px, -15px) rotate(-4deg); }
  100% { transform: translate(0, 0) rotate(0deg); }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.6; transform: scale(1); box-shadow: 0 0 10px var(--glow-sprite); }
  50% { opacity: 1; transform: scale(1.15); box-shadow: 0 0 20px var(--glow-sprite); }
}

@keyframes hop {
  0%, 100% { transform: translateY(0) scaleY(1); }
  40% { transform: translateY(-40px) scaleY(1.2); }
  60% { transform: translateY(-25px) scaleY(0.85); }
}

@keyframes slide-in {
  from { transform: translateX(-100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes sparkle {
  0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
  50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
}

.animate-float { animation: float 5s ease-in-out infinite; }
.animate-fade-in { animation: fadeIn 1s ease-out forwards; }
.animate-drift { animation: drift 10s ease-in-out infinite; }
.animate-pulse-glow { animation: pulse-glow 2.5s ease-in-out infinite; }
.animate-hop { animation: hop 2s ease-in-out infinite; }
.animate-slide-in { animation: slide-in 1s ease-out forwards; }
.animate-sparkle { animation: sparkle 2s ease-in-out infinite; }

/* Enhanced Card Styles */
.ghibli-card {
  background: var(--card-bg);
  backdrop-filter: blur(12px);
  border-radius: var(--radius);
  border: 2px solid var(--border);
  box-shadow: 
    0 10px 20px rgba(0, 0, 0, 0.1),
    0 25px 50px rgba(0, 0, 0, 0.08),
    inset 0 2px 0 rgba(255, 255, 255, 0.6);
  transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.ghibli-card:hover {
  transform: translateY(-10px) scale(1.03);
  box-shadow: 
    0 15px 30px rgba(0, 0, 0, 0.15),
    0 30px 60px rgba(0, 0, 0, 0.1),
    inset 0 3px 0 rgba(255, 255, 255, 0.7);
  border-color: var(--ghibli-sky);
}

/* Pixel Art */
.pixel-art,
.image-pixelated {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Skeleton */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--ghibli-gray) 0%,
    var(--ghibli-white) 50%,
    var(--ghibli-gray) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
  border-radius: 12px;
}

.imgDark {
  display: none;
}

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }

  .imgLight {
    display: none;
  }
  .imgDark {
    display: block;
  }

  .skeleton {
    background: linear-gradient(
      90deg,
      #2d3436 0%,
      #4a5859 50%,
      #2d3436 100%
    );
    background-size: 200% 100%;
  }
}

/* Font utility classes to match component usage */
.font-playfair { font-family: var(--font-playfair), serif; }
.font-inter { font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }